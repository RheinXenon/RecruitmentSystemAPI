# Celery 配置
CELERY_BROKER_URL = 'redis://localhost:6379/0'
CELERY_RESULT_BACKEND = 'redis://localhost:6379/0'
CELERY_ACCEPT_CONTENT = ['json']
CELERY_TASK_SERIALIZER = 'json'
CELERY_RESULT_SERIALIZER = 'json'
CELERY_TIMEZONE = 'Asia/Shanghai'

# Celery 任务设置
CELERY_TASK_TIME_LIMIT = 600  # 10分钟硬超时
CELERY_TASK_SOFT_TIME_LIMIT = 540  # 9分钟软超时

# 任务队列配置
CELERY_TASK_ROUTES = {
    'resume_screening.tasks.run_autogen_screening': {'queue': 'resume_screening'},
}

CELERY_QUEUES = {
    'resume_screening': {
        'exchange': 'resume_screening',
        'routing_key': 'resume_screening',
    },
}